<div [hidden]="submitted">
  <h1>新增使用者</h1>
  <form (ngSubmit)="onSubmit(formInstance)" #formInstance="ngForm" class="example-flex">
    <mat-form-field appearance="fill">
      <mat-label>UserName</mat-label>
      <input matInput [(ngModel)]="userModel.userName" name="userName" required minlength="2" #userInput="ngModel">
    </mat-form-field>
    <mat-form-field appearance="fill">
      <mat-label>Email</mat-label>
      <input matInput [(ngModel)]="userModel.email" name="email" required email #emailInput="ngModel">
    </mat-form-field>

    <div *ngIf="formInstance.invalid && formInstance.dirty">
      <p *ngIf="userInput.errors?.required" style="color: red;">
        使用者名稱為必填
      </p>
      <p *ngIf="userInput.errors?.minlength" style="color: red;">
        使用者名稱最少需要{{userInput.errors?.minlength.requiredLength}}字元
      </p>
      <p *ngIf="emailInput.errors?.required" style="color: red;">
        email 為必填
      </p>
      <p *ngIf="emailInput.errors?.email" style="color: red;">
        email 格式錯誤
      </p>
    </div>
    <button type="submit" mat-raised-button color="primary">
      編輯
    </button>
  </form>
</div>


<div [hidden]="!submitted">
  <h1>新增使用者成功</h1>
</div>
